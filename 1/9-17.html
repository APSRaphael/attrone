<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title></title>
    </head>
    <body>
        <!--<div style="height:1000px;">
            
        </div>-->
        <button onclick="loadImage(document.getElementById('myimg'),'https://s.1-1dr.com/f/banner/78/08/298054927471607808.png',imgLoaded)">加载</button>
        <img src="" alt="" id="myimg" />
        <script>
            function loadImage(obj,url,callback){
                var img = new Image();
                img.src = url;
                obj.src = url;
                if(img.complete){
                    callback.call(img);
                    return false;
                }
                img.onload = function(){
                    callback.call(img);
                }
            }
            function imgLoaded(){
            	setTimeout(function(){},500)
                console.log(this.width);
            }
        </script>
    </body>
</html>